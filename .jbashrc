red="\e[0;31m\]"
green="\e[0;32m\]"
yellow="\e[0;33m\]"
redSed="\\\e[0;31m\\\]"
yellowSed="\\\e[0;33m\\\]"
blue="\e[0;34m\]"
magenta="\e[0;35m\]"
cyan="\e[0;36m\]"
reset="\e[0m\]"

function parse_git_dirty {
  [[ $(git status 2> /dev/null | tail -n1) != "nothing to commit, working directory clean" ]] && echo " ✗"
}
function parse_git_stash {
  [[ $(git stash list 2> /dev/null | tail -n1) != "" ]] && echo " ^"
}
function parse_git_branch {
  git branch --no-color 2> /dev/null | sed -e '/^[^*]/d' -e "s/* \(.*\)/ [\1$(parse_git_dirty)$(parse_git_stash)]/"
}

# export PROMPT_COMMAND=__prompt_command

# function __prompt_command() {
#     local EXIT="$?"
#     if [ $EXIT != 0 ]; then
#         PS1="${red}➜ $magenta\u $reset@ $yellow\h $cyan[\t] $green\w$red$(parse_git_branch)$red\n\$$reset "
#     else
        
#     fi
#     # PS1="\n\[$(tput setaf 2)\][\[$(tput setaf 7)\]\u \w\[$(tput setaf 2)\]]\n\[$(tput setaf 6)\]\t \[$(tput setaf 7)\]\\$ \[$(tput sgr0)\]"
# }

PS1="$magenta\u $reset@ $yellow\h $cyan[\t] $green\w$red\$(parse_git_branch)$reset\n$ "
